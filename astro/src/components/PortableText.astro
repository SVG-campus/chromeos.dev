---
import { PortableText } from 'astro-portabletext';
import DynamicBody from '$components/blocks/DynamicBody.astro';

export interface Props {
  body: any;
  wrapped?: boolean;
}

const { body, wrapped } = Astro.props;

const components = {
  block: {
    h2: DynamicBody,
    h3: DynamicBody,
  },
  type: {
    Message: DynamicBody,
    picture: DynamicBody,
    statlist: DynamicBody,
    figure: DynamicBody,
  },
};
// console.log(inspect(body, false, null, true))
---

<div class={wrapped !== false ? 'type' : ''}>
  <PortableText value={body} components={components} />
</div>

<script>
  // Include paint worklets
  await import('$js/paint.js');
</script>
