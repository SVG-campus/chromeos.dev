---
import PortableText from './PortableText.astro';
import Message from './Message.svelte';
import Heading from './Heading.svelte';
import Picture from './Picture.svelte';
import Stats from '$components/Stats.svelte';
import Figure from './Figure.svelte';
import Link from './Link.svelte';
import Code from './Code.svelte';

const { node: props /* , isInline, class */ } = Astro.props;
---

{
  props._type === 'Message' ? (
    <Message type={props.type}>
      <PortableText body={props.text} wrapped={false} />
    </Message>
  ) : props._type === 'picture' ? (
    <Picture block={props} />
  ) : props._type === 'statlist' ? (
    <Stats stats={props.stats} />
  ) : props._type === 'figure' ? (
    <Figure block={props}>
      <PortableText body={props.caption} wrapped={false} />
    </Figure>
  ) : props._type === 'code' ? (
    <Code block={props} />
  ) : props._type === 'block' &&
    (props.style === 'h2' || props.style === 'h3') ? (
    <Heading block={props} />
  ) : props.markType == 'link' ? (
    <Link mark={props.markDef}>
      <PortableText body={props.children} wrapped={false} inline={true} />
    </Link>
  ) : (
    <PortableText body={props.children} />
  )
}
